id: service_channels_translations
migration_group: ptv
label: 'Service Channels translations'
source:
  plugin: config
  configuration_name: ptv.settings
  key: service_channels
  languages:
    - fi
    - en
    - sv
  constants:
    uid: 1
process:
  nid:
    plugin: migration_lookup
    source: id
    migration: service_channels
  type:
    plugin: default_value
    default_value: service_channel
  title: name
  langcode: langcode
  field_services:
    plugin: migration_lookup
    source: services
    migration: services

  field_description/value: description
  field_description/summary: summary
  field_description/format:
    plugin: default_value
    default_value: basic_html

  field_email: email
  field_phone: phone
  field_webpage: webpage
  field_address: address
  # field_languages: languages

  path/pathauto:
    plugin: default_value
    default_value: 1
  uid: constants/uid
destination:
  plugin: 'entity:node'
  translations: true
migration_dependencies:
  required:
    - service_channels
  optional: {  }
