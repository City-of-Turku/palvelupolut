{# @todo Add missing comments about expected variables. #}

{% set accordion__base_class = accordion__base_class|default('accordion') %}
{% set accordion__modifiers = accordion__modifiers|default([]) %}

<div {{ bem(accordion__base_class, accordion__modifiers) }}>

  {% if accordion__heading %}
    {% include '@atoms/text/heading/heading.twig' with {
      heading__level: accordion__heading_level|default('3'),
      heading: accordion__heading,
    } %}
  {% endif %}

  {% if accordion__lead_text %}
    {% include '@atoms/text/paragraph/paragraph.twig' with {
      paragraph__content: accordion__lead_text,
    } %}
  {% endif %}

  {% block accordion_content %}
    {% for item in accordion__items %}
      {% include '@molecules/accordion/accordion-item.twig' with {
        accordion__summary: item.accordion__summary,
        accordion__content: item.accordion__content
      } %}
    {% endfor %}
  {% endblock %}
</div>
